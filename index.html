<!DOCTYPE html>
<html>
  <head>
    <link rel='stylesheet' href='assets/stylesheets/main.css'>
    <title>SSP31 Twittler</title>
    <script src='jquery.js'></script>
    <script src='data_generator.js'></script>
    <script src='moment.js'></script>

    <script>

      function tweetUser(id) {
        var $stream = $('.tweets');
        $stream.html('');
        if (id !== undefined) {
          for (var i = streams.home.length - 1; i >= 0; i--) {
            var tweet = streams.home[i];
            if (streams.home[id].user === tweet.user) {
              var $tweet = $('<div></div>');
              var time = moment(tweet.created_at).fromNow();  
              $tweet.html('<a id=\'tweet-user\' class=\'unselectable\' onclick=\'tweetUser(' + i + ')\'>@' + tweet.user + '</a> - ' + time + '<br/><br/>' + tweet.message);
              $tweet.appendTo($stream);
            }
          }

          var $username = $('.user');
          $username.html('');
          var $user = $('<div></div>');
          var user_descript = '';
          $user.html('@' + streams.home[id].user + '<br/><br/>' + user_descript);
          $user.appendTo($username);

        } else {
          for (var i = streams.home.length - 1; i >= 0; i--) {
            var tweet = streams.home[i];
            var $tweet = $('<div></div>');
            var time = moment(tweet.created_at).fromNow();
            $tweet.html('<a id=\'tweet-user\' class=\'unselectable\' onclick=\'tweetUser(' + i + ')\'>@' + tweet.user + '</a> - ' + time + '<br/><br/>' + tweet.message);
            $tweet.appendTo($stream);

          }

          var $username = $('.user');
          $username.html('');
          var $user = $('<div></div>');
          var user_descript = 'new user to twittler';
          $user.html('@user1'+ '<br/><br/>' + user_descript);
          $user.appendTo($username);

        }
      }

    </script>
  </head>
  <body>
    <script>

      $(document).ready(function(){

        tweetUser();


      });

    </script>


    <header class='header container'>
      <nav class='nav'>
        <ul>
          <li><a id='home' class='unselectable' onclick='tweetUser()'><img class='logo' src='assets\images\logo.png' alt='logo' />   Home</a></li>
        </ul>
      </nav>
    </header>

    <img class='banner' src='assets\images\banner.jpg' alt='banner' />

    <section class='container'><!-- 

      --><div class='grid user'>
      </div><!-- 

       --><div class='grid stream'>

        <nav class='nav tweets-title'>
          <ul>
            <li> Tweets </li>
            <li id='update' class='unselectable' onclick='tweetUser()'><a> Update </a></li>
          </ul>
        </nav>

        <div class='tweets'>
        </div>

      </div>

    </section>

  </body>
</html>
